<html>
    <head>
        <title>INCUBATION | Registration</title>
        <link rel=stylesheet type="text/css" href="css/style.css">
        <script src="https://cdn.firebase.com/js/client/2.2.9/firebase.js"></script>
        <script>
            var ref = new Firebase("blistering-heat-273.firebaseio.com");
            
            
            function Redirect() {
               window.location="/profile.html";
            }
            
            function userCreation(email, password){
                ref.createUser({
                    email    : email,
                    password : password
                    }, function(error, userData) {
                    if (error) {
                        console.log("Error creating user:", error);
                        Redirect();
                    } else {
                        console.log("Successfully created user account with uid:", userData.uid);
                    }
                });
            }
            
            function fb(){
                ref.authWithOAuthPopup("facebook", function(error, authData) {
                    if (error) {
                        console.log("Login Failed!", error);
                    } else {
                        console.log("Authenticated successfully with payload:", authData);
                        userCreation(authData.facebook.email, authData.facebook.accessToken);
                    }
                });
            }
            
            //  10203517179768816
            // "10201316671077474"
            // 10203517179768816
            
        </script>
    </head>
    <body>
        <form>
            <ul>
                <li><label>Username: </label><input id="username" type="text" placeholder="Username" required></li>
                <li><label>Email: </label><input type="email" placeholder="Email ID" required></li>
                <li><label>Stream: </label>
                    <input type="radio"> CSE
                    <input type="radio"> EE
                    <input type="radio"> ECE
                    <input type="radio"> ME</li>
                <button type="submit">Register!</button>
            </ul>
        </form>
        <button onclick="fb()">Facebook Login</button>
    </body>
</html>

